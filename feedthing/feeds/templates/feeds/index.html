{% extends 'base.html' %}
{% load static %}
{% block body %}
    <section class="row">
        <div class="col">
            <form action="{% url 'feeds:index' %}" method="POST">
                {% csrf_token %}
                <section class="row">
                    <div class="col">
                        <label for="id_href">Feed URL</label>
                        <input id="id_href" name="href" type="url" autofocus required>
                        <button type="submit">Add</button>
                    </div>
                </section>
            </form>
        </div>
    </section>
    {% if feeds %}
        {% for feed in feeds %}
            <table class="table entry-table">
                <caption>
                    {% if feed.html_href %}
                        <a href="{{ feed.html_href }}">{{ feed.title }}</a>
                    {% else %}
                        {{ feed.title }}
                    {% endif %}
                </caption>
                <tbody>
                    {% if feed.entries %}
                        {% for entry in feed.entries %}
                            <tr>
                                <td>
                                    <a target="_blank" rel="noopener noreferrer" href="{{ entry.href }}" class="entry" title="{{ entry.title }}">
                                        {{ entry.title }}
                                    </a>
                                </td>
                                <td title="{{ entry.published }}" class="right">
                                    {{ entry.natural_published }}
                                </td>
                            </tr>
                        {% endfor %}
                    {% endif %}
                </tbody>
            </table>
        {% endfor %}
    {% endif %}
{% endblock %}
